<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="SS3 Development Team">
<meta name="dcterms.date" content="2024-12-03">

<title>Getting Started with Stock Synthesis – Stock Synthesis (SS3)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<link href="../qmds/images/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-78f90e13523101ec91ebc4feaa04c6c7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Stock Synthesis (SS3)</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ss3-user-manuals" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-journal-code" role="img" aria-label="User Manual">
</i> 
 <span class="menu-text">SS3 User Manuals</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-ss3-user-manuals">    
        <li>
    <a class="dropdown-item" href="https://nmfs-ost.github.io/ss3-doc/SS330_User_Manual_release.html" target="_blank">
 <span class="dropdown-text">HTML Version</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/nmfs-ost/ss3-source-code/releases/latest/download/SS330_User_Manual.pdf">
 <span class="dropdown-text">PDF Version (downloads on click)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../qmds/user_manual.html">
 <span class="dropdown-text">Citing the SS3 User Manual</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-getting-started-tutorials" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-terminal" role="img" aria-label="Tutorials">
</i> 
 <span class="menu-text">Getting Started Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-getting-started-tutorials">    
        <li>
    <a class="dropdown-item" href="../qmds/getting_started_ss3.html">
 <span class="dropdown-text">Getting Started with Stock Synthesis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../qmds/ss3_model_tips.html">
 <span class="dropdown-text">Developing your first Stock Synthesis model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../qmds/ss3_setup_decisions.html">
 <span class="dropdown-text">Important SS3 Set-up Decisions</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-model-feature-vignettes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-person-workspace" role="img" aria-label="Vignette Workspace">
</i> 
 <span class="menu-text">Model Feature Vignettes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-model-feature-vignettes">    
        <li>
    <a class="dropdown-item" href="../qmds/start_year_considerations.html">
 <span class="dropdown-text">Start Year Considerations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../qmds/predator.html">
 <span class="dropdown-text">Predators</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../qmds/settlement_timing.html">
 <span class="dropdown-text">Settlement Timing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../qmds/phases.html">
 <span class="dropdown-text">Guidance on Phases</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../qmds/platoons.html">
 <span class="dropdown-text">Platoons</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../qmds/webinars.html"> <i class="bi bi-webcam" role="img" aria-label="Webinars">
</i> 
<span class="menu-text">SS3 Webinar Series</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img" aria-label="Quarto GitHub">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/nmfs-ost/ss3-website">
 <span class="dropdown-text">SS3 Website GitHub Repository</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/nmfs-ost/ss3-doc">
 <span class="dropdown-text">User Manual GitHub Repository</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/nmfs-ost/ss3-source-code">
 <span class="dropdown-text">Stock Synthesis GitHub Repository</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#scope" id="toc-scope" class="nav-link active" data-scroll-target="#scope">Scope</a></li>
  <li><a href="#stock-synthesis-file-structures-and-tools" id="toc-stock-synthesis-file-structures-and-tools" class="nav-link" data-scroll-target="#stock-synthesis-file-structures-and-tools">Stock Synthesis file structures and tools</a>
  <ul class="collapse">
  <li><a href="#ss3-files-required-inputs" id="toc-ss3-files-required-inputs" class="nav-link" data-scroll-target="#ss3-files-required-inputs">SS3 files: Required inputs</a></li>
  <li><a href="#ss3-files-optional-inputs" id="toc-ss3-files-optional-inputs" class="nav-link" data-scroll-target="#ss3-files-optional-inputs">SS3 files: Optional inputs</a></li>
  <li><a href="#ss3-output-files" id="toc-ss3-output-files" class="nav-link" data-scroll-target="#ss3-output-files">SS3 output files</a></li>
  <li><a href="#tool-definitions" id="toc-tool-definitions" class="nav-link" data-scroll-target="#tool-definitions">Tool definitions</a></li>
  </ul></li>
  <li><a href="#running-ss3" id="toc-running-ss3" class="nav-link" data-scroll-target="#running-ss3">Running SS3</a>
  <ul class="collapse">
  <li><a href="#the-one-folder-approach-and-demonstration-of-an-ss3-model-run" id="toc-the-one-folder-approach-and-demonstration-of-an-ss3-model-run" class="nav-link" data-scroll-target="#the-one-folder-approach-and-demonstration-of-an-ss3-model-run">The one folder approach and demonstration of an SS3 model run</a>
  <ul class="collapse">
  <li><a href="#setup-for-the-1-folder-approach" id="toc-setup-for-the-1-folder-approach" class="nav-link" data-scroll-target="#setup-for-the-1-folder-approach">Setup for the 1 folder approach</a></li>
  <li><a href="#run-ss3" id="toc-run-ss3" class="nav-link" data-scroll-target="#run-ss3">Run SS3</a></li>
  <li><a href="#examine-the-output" id="toc-examine-the-output" class="nav-link" data-scroll-target="#examine-the-output">Examine the output</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#options-for-running-ss3" id="toc-options-for-running-ss3" class="nav-link" data-scroll-target="#options-for-running-ss3">Options for running SS3</a>
  <ul class="collapse">
  <li><a href="#options" id="toc-options" class="nav-link" data-scroll-target="#options">Command line options</a></li>
  <li><a href="#using-ss3.par-previously-ss.par-for-initial-values" id="toc-using-ss3.par-previously-ss.par-for-initial-values" class="nav-link" data-scroll-target="#using-ss3.par-previously-ss.par-for-initial-values">Using ss3.par (previously ss.par) for initial values</a></li>
  <li><a href="#using-wtatage.ss" id="toc-using-wtatage.ss" class="nav-link" data-scroll-target="#using-wtatage.ss">Using wtatage.ss</a></li>
  </ul></li>
  <li><a href="#plotting-results-and-basic-troubleshooting" id="toc-plotting-results-and-basic-troubleshooting" class="nav-link" data-scroll-target="#plotting-results-and-basic-troubleshooting">Plotting results and basic troubleshooting</a>
  <ul class="collapse">
  <li><a href="#using-r4ss-to-organize-and-plot-ss3-output" id="toc-using-r4ss-to-organize-and-plot-ss3-output" class="nav-link" data-scroll-target="#using-r4ss-to-organize-and-plot-ss3-output">Using r4ss to organize and plot SS3 output</a></li>
  <li><a href="#what-to-do-when-ss3-doesnt-run" id="toc-what-to-do-when-ss3-doesnt-run" class="nav-link" data-scroll-target="#what-to-do-when-ss3-doesnt-run">What to do when SS3 doesn’t run</a></li>
  </ul></li>
  <li><a href="#where-to-get-additional-help" id="toc-where-to-get-additional-help" class="nav-link" data-scroll-target="#where-to-get-additional-help">Where to get additional help</a></li>
  <li><a href="#app1" id="toc-app1" class="nav-link" data-scroll-target="#app1">Appendix 1: An introduction to the command line</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Getting Started with Stock Synthesis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>SS3 Development Team </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 3, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="scope" class="level1">
<h1>Scope</h1>
<p>Stock Synthesis (SS3) is a statistical fisheries population dynamics modeling framework built in <a href="http://www.admb-project.org/">AD Model Builder</a>. This Getting Started Guide introduces users to running SS3. We assume some experience with population dynamics models and a basic understanding of how to use the command line.</p>
<p>If you have never used the command line, please see the resources in <a href="#app1">Appendix 1</a>.</p>
<p>To follow along, we recommend downloading the <a href="https://github.com/nmfs-ost/ss3-user-examples/tree/main/model_files/simple">simple example</a> (<a href="https://github.com/nmfs-ost/ss3-user-examples#how-to-download">Instructions for downloading</a>) and the <a href="https://github.com/nmfs-ost/ss3-source-code/releases/latest">latest release of SS3</a>. Simple is a working SS3 model that runs in less than three minutes and should allow you to experiment with SS3 workflows without having to worry about the model’s contents.</p>
<p>By the end of using this guide, you should:</p>
<ol type="1">
<li>Understand the input and output file structure for SS3</li>
<li>Be able to run an SS3 model via the command line</li>
<li>Understand which tools are available to work with SS3 models</li>
<li>Troubleshoot basic problems associated with running an SS3 model</li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/SS3_tools_files.png" class="img-fluid figure-img" alt="SS3 input and output files and associated tools for working with input and output files including r4ss, any text editor, and the Stock Assessment Continuum Tool" width="450"></p>
<figcaption>Figure 1. SS3 input and output files, and associated tools. Note that some tools are used with both input and output model files.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="stock-synthesis-file-structures-and-tools" class="level1">
<h1>Stock Synthesis file structures and tools</h1>
<p>SS3 uses text input files and produces text output files. In this section, the SS3 input and output files are described, as are tools that can be used with these files. See how they relate in Figure 1.</p>
<section id="ss3-files-required-inputs" class="level2">
<h2 class="anchored" data-anchor-id="ss3-files-required-inputs">SS3 files: Required inputs</h2>
<p>Four required input files are read by the SS3 executable. Throughout this document, we will refer to the SS3 executable as ss3.exe. Keep in mind that the Linux and Mac versions of SS3 have no file extension (e.g., ss3), and the executable can be renamed by the user as desired (e.g.,ss3.exe, ss_win.exe, ss_3.30.18.exe). These input files are:</p>
<ol type="1">
<li><strong>starter.ss:</strong> Required file containing file names of the data file and the control file plus other run controls. Must be named starter.ss.</li>
<li><strong>data file:</strong> File containing model dimensions and the data. The data file can have any name, as specified in the starter file, but typically ends in .ss or .dat.</li>
<li><strong>control file:</strong> File containing set-up for the parameters. The control file can have any name, as specified in the starter file, but typically ends in .ss or .ctl.</li>
<li><strong>forecast.ss:</strong> File containing specifications for reference points and forecasts. Must be named forecast.ss.</li>
</ol>
</section>
<section id="ss3-files-optional-inputs" class="level2">
<h2 class="anchored" data-anchor-id="ss3-files-optional-inputs">SS3 files: Optional inputs</h2>
<p>The two optional input files for SS3 are:</p>
<ol type="1">
<li><strong>ss3.par: (previously ss.par)</strong> A text file with one line per parameter where order matters. Usually created from a previous model run. This file can provide initial parameter values instead of using the initial values in the control file. The option to use the ss3.par file or the control file for initial parameter values is selected in starter.ss.</li>
<li><strong>wtatage.ss:</strong> File containing empirical input of body weight by fleet and population and empirical fecundity-at-age. The option to use the wtatage.ss file is selected in a line of the control file.</li>
</ol>
</section>
<section id="ss3-output-files" class="level2">
<h2 class="anchored" data-anchor-id="ss3-output-files">SS3 output files</h2>
<p>Many output text files are created during a model run. The most useful output files can be divided into:</p>
<ol type="1">
<li><strong>Files containing results</strong>. These files include ss_summary.sso and report.sso that contain model results summarized in different ways.</li>
<li><strong>.ss_new files</strong>. These files echo the SS3 input files, but include standardized comments. The values should be the same as the input files, except for control.ss_new, which updates the initial values to the final estimated values. The .ss_new files can be useful to standardize comments in the input files and can be checked to make sure that SS3 interpreted the inputs as the user intended.</li>
<li><strong>Files used for debugging</strong>. These files include warnings.sso and echoinput.sso.</li>
</ol>
</section>
<section id="tool-definitions" class="level2">
<h2 class="anchored" data-anchor-id="tool-definitions">Tool definitions</h2>
<ul>
<li><p><strong>Any text editor</strong> can be used to view and edit SS3 input and output files. Defining a custom syntax highlighting scheme for SS3 files may improve SS3 file readability. Some commonly used text editors include Atom, Emacs, Notepad++, and Sublime Text.</p></li>
<li><p><strong>r4ss</strong>: An R package to plot SS3 model results and manipulate SS3 input and output files. Available at: https://github.com/r4ss/r4ss</p></li>
<li><p><strong>SSI</strong>: Stock Synthesis Interface (i.e., the SS3 GUI). The <a href="https://github.com/nmfs-ost/ssi/releases/latest">latest version of SSI</a> can be downloaded from GitHub. SSI can be used to edit, save, run, and visualize model inputs and outputs. Note that SSI is not maintained for Stock Synthesis versions after v.3.30.21.</p></li>
<li><p><strong>Stock Assessment Continuum Tool</strong>: Available through github at https://github.com/shcaba/SS-DL-tool, the Stock Assessment Continuum Tool (previously known as the Stock Synthesis Data-limited Tool) is a Shiny-based application that provides an interface to upload catch time-series, age composition, length composition, and abundance index data and define model options within the application, which then writes the Stock Synthesis input files.</p></li>
</ul>
</section>
</section>
<section id="running-ss3" class="level1">
<h1>Running SS3</h1>
<p>SS3 is typically run through the command line (although it can also be run indirectly via the command line through an R console). We will introduce the one folder approach, where SS3 is in the same folder as the model files. Other possible approaches to running SS3 include, which are detailed in the <a href="https://nmfs-ost.github.io/ss3-doc/SS330_User_Manual.html#sec:RunningSS3">“Running Stock Synthesis” section of the user manual</a>.</p>
<section id="the-one-folder-approach-and-demonstration-of-an-ss3-model-run" class="level2">
<h2 class="anchored" data-anchor-id="the-one-folder-approach-and-demonstration-of-an-ss3-model-run">The one folder approach and demonstration of an SS3 model run</h2>
<p>The one folder approach is so named because the model input files and SS3 executable are in the same folder. The one folder approach is the simplest way to run SS3 via the command line, so we will walk through an example run using this approach.</p>
<section id="setup-for-the-1-folder-approach" class="level3">
<h3 class="anchored" data-anchor-id="setup-for-the-1-folder-approach">Setup for the 1 folder approach</h3>
<p>Create a folder and add:</p>
<ul>
<li>Control File (Must match name in starter.ss)</li>
<li>Data File (Must match name in starter.ss)</li>
<li>forecast.ss</li>
<li>ss3.exe</li>
<li>starter.ss</li>
<li>Conditional files: wtatage.ss (if doing empirical wt-at-age approach) and/or ss3.par (to continue from a previous run)</li>
</ul>
<p>For example, the following image shows what should be included for a model with no conditional files (where the control and data file names specified in starter.ss are control.ss and data.ss, respectively):</p>
<p><img src="images/SS_input_files_folder.png" class="img-fluid" alt="Image of file folder with the following files: control.ss, data.ss, forecast.ss, ss3.exe, starter.ss"></p>
</section>
<section id="run-ss3" class="level3">
<h3 class="anchored" data-anchor-id="run-ss3">Run SS3</h3>
<p>Once all of the model files and the SS3 executable are in the same folder, you can open your command window of choice at the location of the model files.</p>
<p>To do this, you can typically click to highlight the folder the model files are in, then shift + right click on the same folder and select the option from the menu to open the command line of choice (e.g., Windows Powershell). This should bring up a command window. Then, type <code>ss3</code> (or other name of the ss3 exe) into the command prompt and hit enter. Note that if you are using Windows Powershell, you will need to type <code>./ss3</code>.</p>
<p>The exact instructions for running SS3 can differ depending on the command window used. If you have trouble, search for resources that describe running an executable for your specific command line.</p>
<p>If you still have issues, double-check that you are calling the correct exe name (e.g., you would need to type <code>ss3_win</code> to run an executable called <code>ss3_win.exe</code>.) and that the command line has the correct directory.</p>
<p>After starting the run, you should see output to the command line similar to:</p>
<p><img src="images/SS_start_run.png" class="img-fluid" alt="Image of command line output showing the model running including the successful read of the input files and moving past the 'Estimating...please wait...' line"></p>
<p>If the output gets past <code>Estimating…please wait…</code>, then the structure of the SS3 inputs is correct. The volume of information displayed during the run within the command window is controlled in starter.ss file on the line with the comment <code># run display detail (0,1,2)</code>. The 0 setting is the least verbose option, while the 2 setting is the most verbose.</p>
<p>SS3 always opens and reads files in the same order (starter.ss, data file, forecast.ss, control, then wtatage.ss if using, and finally ss3.par if using), writing to echoinput.sso (a file for debugging runs) and warnings.sso (a file which collects warnings from SS3) as it reads. SS3 inputs are read in order by value, without reference to comments (i.e., anything after <code>#</code> on a line). Linebreaks and whitespace are both treated as separators. Depending on which options are selected, SS3 will expect a particular number of values in a certain order, so failing to provide them will result in errors or at least a different model specification than intended.</p>
<p>After reading, SS3 proceeds immediately to pre-processing the data and creating internal parameter labels. As SS3 executes, it continues to write debugging output to echoinput.sso and warnings to warnings.sso.</p>
<p>SS3 next goes to the procedure section where iterative parameter changes are made by ADMB to minimize the negative log likelihood. When ADMB achieves convergence, control passes to the sd_phase for calculation of parameter variance (unless <code>–nohess</code> option is specified; See <a href="#options">command line options</a>). After the sd_phase, SS3 proceeds to the benchmark and forecast code section and then to final reporting. Output files containing results are typically written to the directory in which the model was run from (except when using <a href="https://nmfs-ost.github.io/ss3-doc/SS330_User_Manual.html#optional-output-subfolders">this special subfolder option</a>).</p>
<p>When the run completes, SS3 shows <code>!! Run has completed !!</code> and the number of warnings:</p>
<p><img src="images/SS_end_run.png" class="img-fluid" alt="Image of command line output showing that new input files have been written, the run has completed, and to see warning.sso for N warnings."> Examine warnings.sso for issues and suggestions, regardless of if the run completed successfully or not. If SS3 exits on error, you will not see the message <code>!! Run has completed !!</code>. Below is an example of a run that exited on error due to invalid inputs:</p>
<p><img src="images/SS_exit_on_error.png" class="img-fluid" alt="Image of command line output showing a failed run due to invalid inputs."></p>
</section>
<section id="examine-the-output" class="level3">
<h3 class="anchored" data-anchor-id="examine-the-output">Examine the output</h3>
<p><strong>.ss_new files</strong> are generated if a model run completes. For more information on the .ss_new files, see the <a href="https://nmfs-ost.github.io/ss3-doc/SS330_User_Manual.html#output-files">“Output Files” section of the SS3 user manual</a>.</p>
<p><strong>ss_summary.sso</strong> files are included with the examples on vlab so that you can compare it with the <code>ss_summary.sso</code> file generated by your model run. You should see similar if not exactly the same values for the likelihood and parameter values if using the same version of SS3.</p>
<p>Output from SS3 can be read into <a href="https://github.com/r4ss/r4ss">{r4ss}</a> or the excel viewer.</p>
</section>
</section>
</section>
<section id="options-for-running-ss3" class="level1">
<h1>Options for running SS3</h1>
<section id="options" class="level2">
<h2 class="anchored" data-anchor-id="options">Command line options</h2>
<p>ADMB options can be added to the run when calling the SS3 executable from the command line. The most commonly used option is <code>ss3 -nohess</code> to skip standard errors (for quicker results or to get Report.sso if the hessian does not invert).</p>
<p>To list all command line options, use one of these calls: <code>SS3-?</code> or <code>SS3 -help</code>. More info about the ADMB command line options is available in the <a href="http://www.admb-project.org/docs/manuals/">ADMB Manual</a> (Chapter 12: Command line options).</p>
<p>To run SS3 without estimation use: <code>ss3 -stopph 0</code>. This will speed up your run by not optimizing. Often <code>-stopph 0</code> is used with the <code>-nohess</code> option to speed up the run even more. To run SS3 with no estimation in v.3.30.15 and earlier, change the max phase in the starter.ss file to 0 and run the exe with the <code>–nohess</code> option.</p>
</section>
<section id="using-ss3.par-previously-ss.par-for-initial-values" class="level2">
<h2 class="anchored" data-anchor-id="using-ss3.par-previously-ss.par-for-initial-values">Using ss3.par (previously ss.par) for initial values</h2>
<p>Typically, SS3 uses initial parameter values as specified in the parameter lines of the control file. However, initial values can be read from the ss3.par file (prior to v.3.30.22.1 this was the ss.par file) instead. To use ss3.par, in starter.ss below the names of the data and control files, set the value to 1 rather than 0 on the line with comment:</p>
<p><code># 0=use init values in control file; 1=use ss3.par</code>.</p>
<p>Using the ss3.par file is helpful when you want to use different initial values without modifying the control file. An ss3.par file is an output file created during each model run and contains the ending parameter values. Using this ss3.par file from a previous model run with a similar model (that still has the same parameters) will speed up run time because the initial values are likely closer to the maximum likelihood estimation (MLE) parameter estimates.</p>
</section>
<section id="using-wtatage.ss" class="level2">
<h2 class="anchored" data-anchor-id="using-wtatage.ss">Using wtatage.ss</h2>
<p>As stated in the manual, SS3 has the capability to read empirical body weight at age for the population and each fleet, in lieu of generating these weights internally from the growth parameters, weight-at-length, and size-selectivity. Please see the <a href="https://nmfs-ost.github.io/ss3-doc/SS330_User_Manual.html#WAA">Empirical Weight-at-Age (wtatage.ss) section of the SS3 user manual</a> for more information on using wtatage.ss with a model. There is also a <a href="https://github.com/nmfs-ost/ss3-user-examples/tree/main/model_files/empirical_wtatage_and_age_selex">weight at age SS3 example model available</a> if you would like to try using this feature without having to build your own model.</p>
</section>
</section>
<section id="plotting-results-and-basic-troubleshooting" class="level1">
<h1>Plotting results and basic troubleshooting</h1>
<section id="using-r4ss-to-organize-and-plot-ss3-output" class="level2">
<h2 class="anchored" data-anchor-id="using-r4ss-to-organize-and-plot-ss3-output">Using r4ss to organize and plot SS3 output</h2>
<p>To plot the results of an SS3 model after it has run, use:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(r4ss) <span class="co"># use r4ss package on github</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># create list of quantities for the model in the directory mydir</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>replist <span class="ot">&lt;-</span> <span class="fu">SS_output</span>(mydir)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">SS_plots</span>(replist)<span class="co"># create plots for SS3 run</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>See https://github.com/r4ss/r4ss for {r4ss} installation instructions. {r4ss} includes other functionality for working with SS3 models, see the <a href="https://r4ss.github.io/r4ss/vignettes/r4ss-intro-vignette.html">r4ss vignette</a> for an introduction.</p>
</section>
<section id="what-to-do-when-ss3-doesnt-run" class="level2">
<h2 class="anchored" data-anchor-id="what-to-do-when-ss3-doesnt-run">What to do when SS3 doesn’t run</h2>
<p>Some basic checks for when SS3 does not run are:</p>
<ul>
<li>Make sure that all files and directories are named correctly.</li>
<li>Check that starter.ss references the correct names of the control and data files.</li>
<li>If SS3 starts to read files and then crashes, check warnings.sso and echoinput.sso. The warnings.sso will reveal potential issues with the model, while echoinput.sso will show how far SS3 was able to run. Work backwards from the bottom of echoinput.sso, looking for where SS3 stopped and if the inputs are being read correctly or not.</li>
</ul>
<p>For further information on troubleshooting, please refer to the SS3 User Manual <a href="https://nmfs-ost.github.io/ss3-doc/SS330_User_Manual.html#sec:RunningSS3">“Running Stock Synthesis” subsections</a>, especially <a href="https://nmfs-ost.github.io/ss3-doc/SS330_User_Manual.html#re-starting-a-run">“Re-Starting a Run”</a> and <a href="https://nmfs-ost.github.io/ss3-doc/SS330_User_Manual.html#debugging-tips">“Debugging Tips”</a>.</p>
</section>
</section>
<section id="where-to-get-additional-help" class="level1">
<h1>Where to get additional help</h1>
<ul>
<li>Post to the Stock Synthesis <a href="https://github.com/nmfs-ost/ss3-source-code/discussions">discussion boards on GitHub</a></li>
<li>The <a href="https://vlab.noaa.gov/web/stock-synthesis">SS3 vlab website</a> resources, including the SS3 user manual</li>
<li>Post questions to the <a href="https://vlab.noaa.gov/web/stock-synthesis/public-forums">forums</a></li>
<li>Email questions to nmfs.stock.synthesis@noaa.gov</li>
<li>Report bugs or request features using the <a href="https://github.com/nmfs-ost/ss3-source-code/issues">Stock Synthesis issue tracker</a></li>
<li><a href="https://www.sciencedirect.com/journal/fisheries-research/vol/142/suppl/C">Fisheries Research special issue (vol.&nbsp;142) on Stock Synthesis</a></li>
<li><a href="http://www.capamresearch.org/">Center for the Advancement of Population Assessment Methodology (CAPAM)</a> provides information about good practices in stock assessment</li>
</ul>
</section>
<section id="app1" class="level1">
<h1>Appendix 1: An introduction to the command line</h1>
<p>If you have never used the command line before, it will be helpful to learn a few basics. Some potential resources include:</p>
<ul>
<li><a href="https://happygitwithr.com/shell.html">Appendix A</a> to the Happy Git and GitHub for the useR book, which introduces the command line on Linux, OSX, and Windows systems.</li>
<li><a href="https://launchschool.com/books/command_line">Introduction to the Command Line by Launch School</a> has even more detail about using the command line specifically on Linux (which should also apply to OSX systems)</li>
<li>A web search on “Command Line” will reveal plenty of other resources</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>